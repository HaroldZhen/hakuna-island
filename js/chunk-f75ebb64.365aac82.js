(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f75ebb64"],{"057f":function(t,e,n){var r=n("fc6a"),c=n("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return c(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?o(t):c(r(t))}},"07ac":function(t,e,n){var r=n("23e7"),c=n("6f53").values;r({target:"Object",stat:!0},{values:function(t){return c(t)}})},"087c":function(t,e,n){"use strict";n.r(e);n("b0c0");var r=n("7a23"),c=Object(r["V"])("data-v-cca2d746");Object(r["A"])("data-v-cca2d746");var i=Object(r["i"])("div",{class:"d-flex justify-content-between align-items-baseline"},[Object(r["i"])("h2",null,[Object(r["i"])("i",{class:"bi bi-book-fill p-1",style:{"font-size":"1.5rem"}}),Object(r["h"])("電話接單")])],-1),a={class:"row"},o={class:"col-md-8"},l={class:"phone-prodcut h-100"},s=Object(r["i"])("h3",null,"產品清單",-1),u={class:"table"},b=Object(r["i"])("thead",null,[Object(r["i"])("tr",null,[Object(r["i"])("th",{style:{width:"80px"}},"照片"),Object(r["i"])("th",null,"名稱"),Object(r["i"])("th",{style:{width:"120px"}},"數量"),Object(r["i"])("th",null,"價格"),Object(r["i"])("th",null,"操作")])],-1),d={class:"input-group input-group-sm mb-3"},f={class:"btn-group",role:"group"},O={class:"col-md-4"},m={class:"mb-3"},j=Object(r["i"])("h3",null,"購物車",-1),p={class:"phone-carts"},h={class:"table align-middle"},v=Object(r["i"])("thead",null,[Object(r["i"])("tr",null,[Object(r["i"])("th"),Object(r["i"])("th",null,"品名"),Object(r["i"])("th",{style:{width:"150px"}},"數量/單位"),Object(r["i"])("th",null,"單價")])],-1),y={key:0,class:"text-success"},g={class:"input-group input-group-sm"},w={class:"text-end"},x={key:0,class:"text-success"},k=Object(r["i"])("td",{colspan:"3",class:"text-end"},"總計",-1),P={class:"text-end"},S=Object(r["i"])("h3",null,"輸入訂單",-1),C={class:"mb-1"},D=Object(r["i"])("label",{for:"email",class:"form-label"},"Email",-1),V={class:"mb-1"},q=Object(r["i"])("label",{for:"email",class:"form-label"},"收件人姓名",-1),E={class:"mb-1"},J=Object(r["i"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),U={class:"mb-1"},_=Object(r["i"])("label",{for:"address",class:"form-label"},"收件人地址",-1),F={class:"mb-3"},$=Object(r["i"])("label",{for:"message",class:"form-label"},"留言",-1),I={class:"d-grid gap-2"};Object(r["y"])();var N=c((function(t,e,n,N,T,A){var B=Object(r["G"])("VField"),G=Object(r["G"])("ErrorMessage"),z=Object(r["G"])("VForm");return Object(r["x"])(),Object(r["e"])(r["a"],null,[i,Object(r["i"])("div",a,[Object(r["i"])("div",o,[Object(r["i"])("div",l,[s,Object(r["i"])("table",u,[b,Object(r["i"])("tbody",null,[(Object(r["x"])(!0),Object(r["e"])(r["a"],null,Object(r["E"])(T.products,(function(t){return Object(r["x"])(),Object(r["e"])("tr",{key:t.id},[Object(r["i"])("td",null,[Object(r["i"])("div",{class:"img-fluid",style:[{"min-height":"50px","background-position":"center","background-size":"cover"},{backgroundImage:"url(".concat(t.imageUrl,")")}]},null,4)]),Object(r["i"])("td",null,Object(r["J"])(t.title),1),Object(r["i"])("td",null,[Object(r["i"])("div",d,[Object(r["i"])("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon1",onClick:function(e){return t.qty=Math.max(0,t.qty-1)}}," - ",8,["onClick"]),Object(r["T"])(Object(r["i"])("input",{type:"text",min:"0",class:"form-control text-center","onUpdate:modelValue":function(e){return t.qty=e},placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1"},null,8,["onUpdate:modelValue"]),[[r["O"],t.qty]]),Object(r["i"])("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon1",onClick:function(e){return t.qty=t.qty+1}}," + ",8,["onClick"])])]),Object(r["i"])("td",null,"$"+Object(r["J"])(t.price),1),Object(r["i"])("td",null,[Object(r["i"])("div",f,[Object(r["i"])("button",{type:"button",disabled:0===t.qty,onClick:function(e){A.addToCart(t),t.qty=0},class:"btn btn-outline-primary btn-sm"}," 新增 ",8,["disabled","onClick"])])])])})),128))])])])]),Object(r["i"])("div",O,[Object(r["i"])("div",m,[j,Object(r["i"])("div",p,[Object(r["i"])("table",h,[v,Object(r["i"])("tbody",null,[(Object(r["x"])(!0),Object(r["e"])(r["a"],null,Object(r["E"])(T.carts.carts,(function(t){return Object(r["x"])(),Object(r["e"])("tr",{key:t.id},[Object(r["i"])("td",null,[Object(r["i"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return A.delCart(t.id)}},"x",8,["onClick"])]),Object(r["i"])("td",null,[Object(r["h"])(Object(r["J"])(t.product.title)+" ",1),T.carts.total-T.carts.final_total>0?(Object(r["x"])(),Object(r["e"])("div",y,"已套用優惠券")):Object(r["f"])("",!0)]),Object(r["i"])("td",null,[Object(r["i"])("div",g,Object(r["J"])(t.qty)+" / "+Object(r["J"])(t.product.unit),1)]),Object(r["i"])("td",w,[t.coupon?(Object(r["x"])(),Object(r["e"])("small",x,"折扣價：")):Object(r["f"])("",!0),Object(r["h"])(" "+Object(r["J"])(t.final_total),1)])])})),128))]),Object(r["i"])("tfoot",null,[Object(r["i"])("tr",null,[k,Object(r["i"])("td",P,Object(r["J"])(T.carts.final_total),1)])])])])]),Object(r["i"])("div",null,[S,Object(r["i"])(z,{ref:"form",onSubmit:A.onSubmit},{default:c((function(t){var n=t.errors;return[Object(r["i"])("div",C,[D,Object(r["i"])(B,{id:"email",name:"email",type:"email",class:["form-control",{"is-invalid":n["email"]}],placeholder:"請輸入 Email",rules:"email|required",modelValue:T.formData.user.email,"onUpdate:modelValue":e[1]||(e[1]=function(t){return T.formData.user.email=t})},null,8,["class","modelValue"]),Object(r["i"])(G,{name:"email",class:"invalid-feedback"})]),Object(r["i"])("div",V,[q,Object(r["i"])(B,{id:"name",name:"name",type:"text",class:["form-control",{"is-invalid":n["name"]}],placeholder:"請輸入姓名",rules:"required",modelValue:T.formData.user.name,"onUpdate:modelValue":e[2]||(e[2]=function(t){return T.formData.user.name=t})},null,8,["class","modelValue"]),Object(r["i"])(G,{name:"name",class:"invalid-feedback"})]),Object(r["i"])("div",E,[J,Object(r["i"])(B,{id:"tel",name:"tel",type:"text",class:["form-control",{"is-invalid":n["tel"]}],placeholder:"請輸入電話",rules:A.isPhone,modelValue:T.formData.user.tel,"onUpdate:modelValue":e[3]||(e[3]=function(t){return T.formData.user.tel=t})},null,8,["class","rules","modelValue"]),Object(r["i"])(G,{name:"tel",class:"invalid-feedback"})]),Object(r["i"])("div",U,[_,Object(r["i"])(B,{id:"address",name:"address",type:"text",class:["form-control",{"is-invalid":n["address"]}],placeholder:"請輸入地址",rules:"required",modelValue:T.formData.user.address,"onUpdate:modelValue":e[4]||(e[4]=function(t){return T.formData.user.address=t})},null,8,["class","modelValue"]),Object(r["i"])(G,{name:"address",class:"invalid-feedback"})]),Object(r["i"])("div",F,[$,Object(r["i"])(B,{id:"message",name:"message",modelValue:T.formData.message,"onUpdate:modelValue":e[5]||(e[5]=function(t){return T.formData.message=t})},{default:c((function(t){var e=t.field;return[Object(r["i"])("textarea",Object(r["o"])(e,{class:"form-control",cols:"30",rows:"5"}),null,16)]})),_:1},8,["modelValue"])]),Object(r["i"])("div",I,[Object(r["i"])("button",{class:"btn btn-primary",disabled:0===T.carts.total},"送出",8,["disabled"])])]})),_:1},8,["onSubmit"])])])])],64)})),T=n("5530"),A=(n("d81d"),n("07ac"),n("159b"),n("9de5")),B={data:function(){return{products:{},carts:{},formData:{user:{},message:""}}},methods:{getProducts:function(){var t=this;A["c"].get(A["a"].product.all).then((function(e){var n=e.data,r=n.success,c=void 0!==r&&r,i=n.products;c&&(t.products=Object.values(i).map((function(t){return t})),t.products.forEach((function(e,n){t.products[n]=Object(T["a"])(Object(T["a"])({},e),{},{qty:0})})))}))},getCart:function(){var t=this;A["c"].get(A["b"].cart.list()).then((function(e){var n=e.data,r=n.success,c=n.data;r&&(t.carts=c)}))},addToCart:function(t){var e=this,n=t.id,r=t.qty,c={data:{product_id:n,qty:r}};A["c"].post(A["b"].cart.add(),c).then((function(t){var n=t.data,r=n.success,c=n.message;r&&(e.$swal({title:c,icon:"success",showConfirmButton:!1,timer:1e3}),e.getCart())}))},delCart:function(t){var e=this;A["c"].delete(A["b"].cart.delete(t)).then((function(t){var n=t.data,r=n.success,c=n.message;r&&(e.$swal({title:c,icon:"success",showConfirmButton:!1,timer:1e3}),e.getCart())}))},onSubmit:function(){var t=this,e={data:Object(T["a"])({},this.formData)};A["c"].post(A["b"].order.create(),e).then((function(e){var n=e.data,r=n.success,c=n.orderId;r&&t.$swal({title:"訂單ID:".concat(c),icon:"success",showConfirmButton:!1,timer:1e3}).then((function(){t.$refs.form.resetForm()}))}))},isPhone:function(t){var e=/^(09)[0-9]{8}$/;return!!e.test(t)||"需要正確的電話號碼"}},created:function(){this.getProducts(),this.getCart()}};n("227c");B.render=N,B.__scopeId="data-v-cca2d746";e["default"]=B},"227c":function(t,e,n){"use strict";n("dce7")},"4de4":function(t,e,n){"use strict";var r=n("23e7"),c=n("b727").filter,i=n("1dde"),a=i("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"6f53":function(t,e,n){var r=n("83ab"),c=n("df75"),i=n("fc6a"),a=n("d1e7").f,o=function(t){return function(e){var n,o=i(e),l=c(o),s=l.length,u=0,b=[];while(s>u)n=l[u++],r&&!a.call(o,n)||b.push(t?[n,o[n]]:o[n]);return b}};t.exports={entries:o(!0),values:o(!1)}},"746f":function(t,e,n){var r=n("428f"),c=n("5135"),i=n("e538"),a=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});c(e,t)||a(e,t,{value:i.f(t)})}},a4d3:function(t,e,n){"use strict";var r=n("23e7"),c=n("da84"),i=n("d066"),a=n("c430"),o=n("83ab"),l=n("4930"),s=n("fdbf"),u=n("d039"),b=n("5135"),d=n("e8b5"),f=n("861d"),O=n("825a"),m=n("7b0b"),j=n("fc6a"),p=n("c04e"),h=n("5c6c"),v=n("7c73"),y=n("df75"),g=n("241c"),w=n("057f"),x=n("7418"),k=n("06cf"),P=n("9bf2"),S=n("d1e7"),C=n("9112"),D=n("6eeb"),V=n("5692"),q=n("f772"),E=n("d012"),J=n("90e3"),U=n("b622"),_=n("e538"),F=n("746f"),$=n("d44e"),I=n("69f3"),N=n("b727").forEach,T=q("hidden"),A="Symbol",B="prototype",G=U("toPrimitive"),z=I.set,M=I.getterFor(A),Q=Object[B],W=c.Symbol,H=i("JSON","stringify"),K=k.f,L=P.f,R=w.f,X=S.f,Y=V("symbols"),Z=V("op-symbols"),tt=V("string-to-symbol-registry"),et=V("symbol-to-string-registry"),nt=V("wks"),rt=c.QObject,ct=!rt||!rt[B]||!rt[B].findChild,it=o&&u((function(){return 7!=v(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=K(Q,e);r&&delete Q[e],L(t,e,n),r&&t!==Q&&L(Q,e,r)}:L,at=function(t,e){var n=Y[t]=v(W[B]);return z(n,{type:A,tag:t,description:e}),o||(n.description=e),n},ot=s?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof W},lt=function(t,e,n){t===Q&&lt(Z,e,n),O(t);var r=p(e,!0);return O(n),b(Y,r)?(n.enumerable?(b(t,T)&&t[T][r]&&(t[T][r]=!1),n=v(n,{enumerable:h(0,!1)})):(b(t,T)||L(t,T,h(1,{})),t[T][r]=!0),it(t,r,n)):L(t,r,n)},st=function(t,e){O(t);var n=j(e),r=y(n).concat(Ot(n));return N(r,(function(e){o&&!bt.call(n,e)||lt(t,e,n[e])})),t},ut=function(t,e){return void 0===e?v(t):st(v(t),e)},bt=function(t){var e=p(t,!0),n=X.call(this,e);return!(this===Q&&b(Y,e)&&!b(Z,e))&&(!(n||!b(this,e)||!b(Y,e)||b(this,T)&&this[T][e])||n)},dt=function(t,e){var n=j(t),r=p(e,!0);if(n!==Q||!b(Y,r)||b(Z,r)){var c=K(n,r);return!c||!b(Y,r)||b(n,T)&&n[T][r]||(c.enumerable=!0),c}},ft=function(t){var e=R(j(t)),n=[];return N(e,(function(t){b(Y,t)||b(E,t)||n.push(t)})),n},Ot=function(t){var e=t===Q,n=R(e?Z:j(t)),r=[];return N(n,(function(t){!b(Y,t)||e&&!b(Q,t)||r.push(Y[t])})),r};if(l||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=J(t),n=function(t){this===Q&&n.call(Z,t),b(this,T)&&b(this[T],e)&&(this[T][e]=!1),it(this,e,h(1,t))};return o&&ct&&it(Q,e,{configurable:!0,set:n}),at(e,t)},D(W[B],"toString",(function(){return M(this).tag})),D(W,"withoutSetter",(function(t){return at(J(t),t)})),S.f=bt,P.f=lt,k.f=dt,g.f=w.f=ft,x.f=Ot,_.f=function(t){return at(U(t),t)},o&&(L(W[B],"description",{configurable:!0,get:function(){return M(this).description}}),a||D(Q,"propertyIsEnumerable",bt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),N(y(nt),(function(t){F(t)})),r({target:A,stat:!0,forced:!l},{for:function(t){var e=String(t);if(b(tt,e))return tt[e];var n=W(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(b(et,t))return et[t]},useSetter:function(){ct=!0},useSimple:function(){ct=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!o},{create:ut,defineProperty:lt,defineProperties:st,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ft,getOwnPropertySymbols:Ot}),r({target:"Object",stat:!0,forced:u((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(m(t))}}),H){var mt=!l||u((function(){var t=W();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))}));r({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,n){var r,c=[t],i=1;while(arguments.length>i)c.push(arguments[i++]);if(r=e,(f(e)||void 0!==t)&&!ot(t))return d(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ot(e))return e}),c[1]=e,H.apply(null,c)}})}W[B][G]||C(W[B],G,W[B].valueOf),$(W,A),E[T]=!0},b0c0:function(t,e,n){var r=n("83ab"),c=n("9bf2").f,i=Function.prototype,a=i.toString,o=/^\s*function ([^ (]*)/,l="name";r&&!(l in i)&&c(i,l,{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(t){return""}}})},d81d:function(t,e,n){"use strict";var r=n("23e7"),c=n("b727").map,i=n("1dde"),a=i("map");r({target:"Array",proto:!0,forced:!a},{map:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(t,e,n){var r=n("23e7"),c=n("83ab"),i=n("56ef"),a=n("fc6a"),o=n("06cf"),l=n("8418");r({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),c=o.f,s=i(r),u={},b=0;while(s.length>b)n=c(r,e=s[b++]),void 0!==n&&l(u,e,n);return u}})},dce7:function(t,e,n){},e439:function(t,e,n){var r=n("23e7"),c=n("d039"),i=n("fc6a"),a=n("06cf").f,o=n("83ab"),l=c((function(){a(1)})),s=!o||l;r({target:"Object",stat:!0,forced:s,sham:!o},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},e538:function(t,e,n){var r=n("b622");e.f=r}}]);
//# sourceMappingURL=chunk-f75ebb64.365aac82.js.map